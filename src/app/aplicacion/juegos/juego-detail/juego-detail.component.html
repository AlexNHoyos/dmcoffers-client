<!-- Botón volver -->
<div class="back-button-container">
  <button mat-icon-button (click)="back()">
    <mat-icon>arrow_back</mat-icon>
  </button>
</div>

<!-- Contenido principal -->
<mat-card *ngIf="juego" class="game-details-card">
  <!-- Imagen -->
  <mat-card-header>
    <mat-card-title>{{ juego.gamename }}</mat-card-title>
    <mat-card-subtitle>Fecha de lanzamiento: {{ juego.release_date }}</mat-card-subtitle>
  </mat-card-header>

  <img mat-card-image [src]="environmentImg + juego.image_path" alt="Imagen del juego" />

  <!-- Contenido del juego -->
  <mat-card-content>
    <p><strong>Publicador:</strong> {{ juego.publisherName }}</p>
    <p><strong>Desarrollador:</strong> {{ juego.developerName }}</p>

    <div class="game-categories">
      <p><strong>Categorías:</strong></p>
      <ul>
        <li *ngFor="let categoria of juego.categoriasNames" class="category-tag">
          {{ categoria }}
        </li>
      </ul>
    </div>

    <p><strong>Precio:</strong> {{ juego.price }} USD</p>

    <p *ngIf="isInLibrary" class="text-muted">
      Este juego ya está en tu biblioteca.
    </p>
  </mat-card-content>

  <!-- Botones -->
  <mat-card-actions *ngIf="token">
    <button
      *ngIf="!isInWishlist"
      mat-raised-button
      color="primary"
      (click)="addToWishlist()"
    >
      Agregar a la Wishlist
    </button>

    <button
      *ngIf="isInWishlist"
      mat-raised-button
      color="warn"
      (click)="removeFromWishlist()"
    >
      Eliminar de la Wishlist
    </button>

    <button
      *ngIf="!isInCart && !isInLibrary"
      mat-raised-button
      color="accent"
      (click)="addToCart()"
    >
      Agregar al Carrito
    </button>

    <button
      *ngIf="isInCart && !isInLibrary"
      mat-raised-button
      [color]="cartBtnHover ? 'warn' : 'accent'"
      (mouseenter)="cartBtnHover = true"
      (mouseleave)="cartBtnHover = false"
      (click)="removeFromCart()"
    >
      {{ cartBtnHover ? 'Quitar del Carrito' : 'Ya está en el Carrito' }}
    </button>
  </mat-card-actions>
</mat-card>